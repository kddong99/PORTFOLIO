var STR_CACHE_NAME="data-cache-20210625";self.addEventListener("install",function(t){t.waitUntil(caches.open(STR_CACHE_NAME).then(function(t){return t.addAll(["/offline.html"])}).then(function(t){return self.skipWaiting()}))}),self.addEventListener("activate",function(t){t.waitUntil(caches.keys().then(function(t){return Promise.all(t.map(function(t){if(t!=STR_CACHE_NAME)return caches.delete(t)}))}))}),self.addEventListener("fetch",function(t){t.respondWith(caches.open(STR_CACHE_NAME).then(function(e){return e.match(t.request).then(function(n){var r=fetch(t.request).then(function(n){return 200==n.status&&"GET"==t.request.method&&n.headers.has("ETag")&&t.request.url.startsWith("https://gjan.info/")&&e.put(t.request,n.clone()),n});return n||r}).catch(function(t){return e.match("/offline.html")})}))});
